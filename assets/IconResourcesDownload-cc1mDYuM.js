import{I as W}from"./index-d-fOJT6v.js";import{d as D,D as J,a2 as T,_ as L,e as a,m as r,x as l,v as N,t as p,p as S,y as C,N as B,R as M,P as O,O as H,a3 as R,r as U,a4 as X,a5 as E,a6 as ce,a7 as ve,b as Y,L as q,Q as pe,f as P,q as F,a8 as h,F as Z,U as _,w as x,W as f}from"./index-h4E0gBbf.js";import{v as fe}from"./index-rv6IvR6F.js";import{c as I,w as V,a as G,p as k,d as Q,f as he}from"./components-NpX6qwsh.js";import{m as ge}from"./elements-gKuY0iSU.js";const $={type:{type:String,default:"circle"},radius:[String,Number],size:{type:String,default:"normal"},color:String,description:String,loading:Boolean},{name:ye,n:me,classes:$e}=I("loading"),be=D({name:ye,props:$,setup(e,{slots:o}){const n=J(()=>T(o.default)?e.loading:!0);return{loadingTypeDict:{wave:5,cube:4,rect:8,disappear:3},isShow:n,n:me,classes:$e,multiplySizeUnit:ge}}}),Ce=S("svg",{viewBox:"25 25 50 50"},[S("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1),Se=[Ce];function we(e,o,n,s,i,d){return a(),r("div",{class:l(e.n())},[e.$slots.default?(a(),r("div",{key:0,class:l(e.classes(e.n("content"),[e.loading,e.n("content--active")]))},[N(e.$slots,"default"),e.loading?(a(),r("div",{key:0,class:l(e.n("content-mask"))},null,2)):p("v-if",!0)],2)):p("v-if",!0),e.isShow?(a(),r("div",{key:1,class:l(e.classes(e.n("$--box"),e.n("body"),[e.$slots.default,e.n("inside")]))},[e.type==="circle"?(a(),r("div",{key:0,class:l(e.n("circle"))},[S("span",{class:l(e.classes(e.n("circle-block"),e.n(`circle-block--${e.size}`))),style:C({width:e.multiplySizeUnit(e.radius,2),height:e.multiplySizeUnit(e.radius,2),color:e.color})},Se,6)],2)):p("v-if",!0),(a(!0),r(B,null,M(e.loadingTypeDict,(c,u)=>(a(),r(B,{key:u},[e.type===u?(a(),r("div",{key:0,class:l(e.classes(e.n(u),e.n(`${u}--${e.size}`)))},[(a(!0),r(B,null,M(c,g=>(a(),r("div",{key:g+u,style:C({backgroundColor:e.color}),class:l(e.classes(e.n(`${u}-item`),e.n(`${u}-item--${e.size}`)))},null,6))),128))],2)):p("v-if",!0)],64))),128)),e.$slots.description||e.description?(a(),r("div",{key:1,class:l(e.classes(e.n("description"),e.n(`description--${e.size}`))),style:C({color:e.color})},[N(e.$slots,"description",{},()=>[O(H(e.description),1)])],6)):p("v-if",!0)],2)):p("v-if",!0)],2)}const j=L(be,[["render",we]]);V(j);G(j,$);const ee={hovering:Boolean,focusing:Boolean},{name:ze,n:Be,classes:ke}=I("hover-overlay"),Te=D({name:ze,props:ee,setup:()=>({n:Be,classes:ke,inMobile:R})});function Ne(e,o,n,s,i,d){return a(),r("div",{class:l(e.classes(e.n(),[e.hovering,e.n("--hovering")],[e.focusing&&!e.inMobile(),e.n("--focusing")]))},null,2)}const A=L(Te,[["render",Ne]]);V(A);G(A,ee);function Re(){const e=U(!1);return{hovering:e,handleHovering:n=>{e.value=n}}}function oe(e){return e?!!(e==="desktop"&&R()||e==="mobile"&&!R()):!1}function Ue(e){const o=e.getAttribute("style");return o?o.split(";").filter(Boolean).reduce((n,s)=>{const[i,d]=s.split(":").map(c=>c.trim());return n[X(i)]=d,n},{}):{}}function De(e){const{value:o}=e._hover,n=Ue(e);Object.keys(o).forEach(s=>{const i=X(s);o[i]!=null&&n[i]&&(e._hover.rawStyle[i]=n[i])})}function K(e,o){Object.keys(o).forEach(n=>{const s=o[n];s!=null&&(e.style[n]=s)})}function Le(e){Object.keys(e._hover.value).forEach(o=>{e._hover.value[o]!=null&&(e.style[o]="")})}function ne(e){(e==null?void 0:e._hover)!=null&&(Le(e),K(e,e._hover.rawStyle))}function se(){const{value:e}=this._hover;if(this._hover.hovering=!0,E(e)){e(this._hover.hovering);return}K(this,e)}function ae(){if(this._hover.hovering=!1,E(this._hover.value)){this._hover.value(this._hover.hovering);return}ne(this)}function ie(e,o){var i;const{arg:n,value:s}=o;oe(n)||(e._hover={value:s,hovering:((i=e._hover)==null?void 0:i.hovering)??!1,rawStyle:{}},De(e),e.addEventListener("mouseenter",se),e.addEventListener("mouseleave",ae))}function te(e,o){oe(o.arg)||(ne(e),e.removeEventListener("mouseenter",se),e.removeEventListener("mouseleave",ae))}function Oe(e,o){e._hover&&te(e,o)}function He(e,o){return!E(o.value)&&e._hover.hovering}function Ee(e,o){ie(e,o),He(e,o)&&K(e,o.value)}const Pe={mounted:ie,unmounted:te,beforeUpdate:Oe,updated:Ee,install(e){e.directive("hover",this)}},Fe=Pe,re={type:String,nativeType:{type:String,default:"button"},size:String,loading:Boolean,round:Boolean,block:Boolean,text:Boolean,outline:Boolean,disabled:Boolean,autoLoading:Boolean,iconContainer:Boolean,ripple:{type:Boolean,default:!0},color:String,textColor:String,elevation:{type:[Boolean,Number,String],default:!0},loadingRadius:[Number,String],loadingType:k($,"type"),loadingSize:{...k($,"size"),default:void 0},loadingColor:{...k($,"color"),default:"currentColor"},onClick:Q(),onTouchstart:Q()},Ie=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function Ve(){const{bindParent:e,parentProvider:o,index:n}=ce(Ie);return{index:n,buttonGroup:o,bindButtonGroup:e}}const{name:Ge,n:je,classes:Ae}=I("button"),Ke=D({name:Ge,components:{VarLoading:j,VarHoverOverlay:A},directives:{Ripple:fe,Hover:Fe},props:re,setup(e){const o=U(!1),n=U(!1),{buttonGroup:s}=Ve(),{hovering:i,handleHovering:d}=Re(),c=J(()=>{if(!s)return{elevation:he(e.elevation,2),type:e.type??"default",size:e.size??"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline,iconContainer:e.iconContainer};const{type:t,size:y,color:m,textColor:v,mode:b}=s;return{elevation:"",type:e.type??t.value,size:e.size??y.value,color:e.color??m.value,textColor:e.textColor??v.value,text:b.value==="text"||b.value==="outline",outline:b.value==="outline",iconContainer:b.value==="icon-container"}});function u(t){e.autoLoading&&(n.value=!0,Promise.all(ve(t)).then(()=>{n.value=!1}).catch(()=>{n.value=!1}))}function g(t){const{loading:y,disabled:m,onClick:v}=e;!v||y||m||n.value||u(T(v,t))}function z(t){const{loading:y,disabled:m,onTouchstart:v}=e;!v||y||m||n.value||u(T(v,t))}return{pending:n,states:c,hovering:i,n:je,classes:Ae,handleHovering:d,handleClick:g,handleTouchstart:z,isFocusing:o}}}),Me=["type","disabled"];function Ye(e,o,n,s,i,d){const c=Y("var-loading"),u=Y("var-hover-overlay"),g=q("ripple"),z=q("hover");return pe((a(),r("button",{class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[!e.states.text,e.states.elevation],[!e.states.iconContainer&&!e.states.text,e.n(`--${e.states.type}`)],[e.states.text,`${e.n("--text")} ${e.n(`--text-${e.states.type}`)}`],[e.states.iconContainer,e.n(`--icon-container-${e.states.type}`)],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")],[e.loading||e.pending,e.n("--loading")],[e.disabled,e.n("--disabled")],[e.states.text&&e.disabled,e.n("--text-disabled")])),style:C({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:o[0]||(o[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onTouchstart:o[1]||(o[1]=(...t)=>e.handleTouchstart&&e.handleTouchstart(...t)),onFocus:o[2]||(o[2]=t=>e.isFocusing=!0),onBlur:o[3]||(o[3]=t=>e.isFocusing=!1)},[e.loading||e.pending?(a(),P(c,{key:0,class:l(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize||e.states.size,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):p("v-if",!0),S("div",{class:l(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[N(e.$slots,"default")],2),F(u,{hovering:e.disabled||e.loading||e.pending?!1:e.hovering,focusing:e.disabled||e.loading||e.pending?!1:e.isFocusing},null,8,["hovering","focusing"])],46,Me)),[[g,{disabled:e.disabled||!e.ripple||e.loading||e.pending}],[z,e.handleHovering,"desktop"]])}const w=L(Ke,[["render",Ye]]);V(w);G(w,re);const qe={downloadResources:"下载资源"},Qe={downloadResources:"Download Resources"},{add:le,use:We,t:ue,merge:no}=h.useLocale(),de=e=>{h.use(e),We(e)};h.add("zh-CN",h.zhCN);h.add("en-US",h.enUS);le("zh-CN",qe);le("en-US",Qe);const Je={__name:"ComponentResourcesDownload",setup(e){Z(de,"pc"),_();function o(){window.location.href="https://raw.githubusercontent.com/varletjs/varlet-design-resources/main/components.sketch"}return(n,s)=>(a(),P(f(w),{type:"primary",onClick:o},{default:x(()=>[O(H(f(ue)("downloadResources"))+" ",1),F(f(W),{name:"download",style:{margin:"2px 0 0 6px"}})]),_:1}))}},so=Je,Xe={__name:"IconResourcesDownload",setup(e){Z(de,"pc"),_();function o(){window.location.href="https://raw.githubusercontent.com/varletjs/varlet-design-resources/main/icons.sketch"}return(n,s)=>(a(),P(f(w),{type:"primary",onClick:o},{default:x(()=>[O(H(f(ue)("downloadResources"))+" ",1),F(f(W),{name:"download",style:{margin:"2px 0 0 6px"}})]),_:1}))}},ao=Xe;export{so as C,ao as I};
